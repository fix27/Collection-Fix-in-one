<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FixPrograms thousand in one on JavaScript</title>
    <style>
        .demo {
            margin: 10px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        .demo h3 {
            margin-top: 0;
        }
    </style>
</head>
<body>
    <h1>FixPrograms thousand in one on JavaScript</h1>
    <div id="demos"></div>

    <script>
      // Пример функции 1
          function demo1() {
              // Fuction\pi
              c=100000000;
              const v = Math.floor(c / 100);
              c = v * 100;
              const dx = 2 / c;
              let oldx = -1;
              let oldy = 0;
              let x = -1 + dx;
              let tpi = 0;
          
              for (let j = 1; j <= 100; j++) {
                  // Обновление прогресса (аналог ProgressBar и Label)
                  console.log(`Progress: ${j}%`);
          
                  for (let i = 1; i <= v - (j === 100 ? 1 : 0); i++) {
                      const y = Math.sqrt(1 - Math.pow(x, 2));
                      tpi += Math.sqrt(Math.pow(oldx - x, 2) + Math.pow(oldy - y, 2));
                      oldx = x;
                      oldy = y;
                      x += dx;
                  }
              }
          
              tpi += Math.sqrt(Math.pow(oldx - 1, 2) + Math.pow(oldy - 0, 2));
              return tpi;

          }
          
          // Пример функции 2
        function demo2() {
            // Заранее заданные параметры
            const inputString = "    Пример строки с пробелами    ";

            // Функция для удаления начальных и конечных пробелов
            function probel(s) {
                let i = 0;
                while (s[i] === ' ') {
                    i++;
                }
                let i1 = s.length - 1;
                while (s[i1] === ' ') {
                    i1--;
                }
                return s.substring(i, i1 + 1);
            }

            const result = probel(inputString);

            // Возвращаем HTML-код
            return `
                <div class="demo-title">Demo2: Функция probel</div>
                <p><strong>Исходная строка:</strong> "${inputString}"</p>
                <p><strong>Результат:</strong> "${result}"</p>
            `;
        }

        /**
         * demo3 - Переписанная функция 'movehero'
         * Описание: Увеличивает координату x объекта на 1.
         * Входные параметры заданы заранее.
         * Возвращает HTML-код с результатом.
         */
        function demo3() {
            // Заранее заданные параметры
            const hero = {
                x: 5,
                y: 10,
                movehero: function() {
                    this.x += 1;
                }
            };

            // Вызов метода movehero
            hero.movehero();

            // Возвращаем HTML-код
            return `
                <div class="demo-title">Demo3: Метод movehero</div>
                <p><strong>Исходные координаты:</strong> x = 5, y = 10</p>
                <p><strong>Новые координаты после movehero:</strong> x = ${hero.x}, y = ${hero.y}</p>
            `;
        }

        /**
         * demo4 - Переписанная процедура 'prigra'
         * Описание: Рисует сетку на канвасе (эмуляция процедуры prigra).
         * Входные параметры заданы заранее.
         * Возвращает HTML-код с результатом.
         */
        function demo4() {
            // Создаем канвас для демонстрации
            const canvasId = 'demo4Canvas';
            const canvasWidth = 640;
            const canvasHeight = 480;

            // Проверка поддержки канваса
            if (!document.createElement('canvas').getContext) {
                return `
                    <div class="demo-title">Demo4: Процедура prigra</div>
                    <p>Ваш браузер не поддерживает канвас.</p>
                `;
            }

            // Создание канваса
            const canvasHTML = `
                <div class="demo-title">Demo4: Процедура prigra</div>
                <canvas id="${canvasId}" width="${canvasWidth}" height="${canvasHeight}" style="border:1px solid #000000;">
                    Ваш браузер не поддерживает канвас.
                </canvas>
            `;

            // Функция для рисования сетки
            function prigra() {
                const canvas = document.getElementById(canvasId);
                const ctx = canvas.getContext('2d');

                // Очистка канваса
                ctx.clearRect(0, 0, canvas.width, canvas.height);

                // Рисуем вертикальные линии
                for (let i = 1; i <= 32; i++) {
                    ctx.beginPath();
                    ctx.moveTo(i * 20, 0);
                    ctx.lineTo(i * 20, canvas.height);
                    ctx.strokeStyle = '#000';
                    ctx.stroke();
                }

                // Рисуем горизонтальные линии
                for (let i = 1; i <= 8; i++) {
                    ctx.beginPath();
                    ctx.moveTo(0, i * 60);
                    ctx.lineTo(canvas.width, i * 60);
                    ctx.strokeStyle = (i % 2 === 0) ? '#FF0000' : '#0000FF';
                    ctx.stroke();
                }
            }

            // Рисуем сетку
            setTimeout(prigra, 100); // Задержка для гарантии создания канваса

            return canvasHTML;
        }
            function demo5() {
                const num = 10; // Число для расчета факториала
                let factorial = 1;
                for (let i = 2; i <= num; i++) {
                    factorial *= i;
                }
                return `&lt;p&gt;Факториал числа ${num}: ${factorial}&lt;/p&gt;`;
            }          
        function demo6() {
            const num = 27; // Число для проверки
            let isPrime = true;
            for (let i = 2; i <= Math.sqrt(num); i++) {
                if (num % i === 0) {
                    isPrime = false;
                    break;
                }
            }
            return `&lt;p&gt;Число ${num} ${isPrime ? "простое" : "не простое"}&lt;/p&gt;`;
        }

        function demo7() {
            const a = 56;
            const b = 98;
            const gcd = (x, y) => (y === 0 ? x : gcd(y, x % y));
            return `&lt;p&gt;НОД чисел ${a} и ${b}: ${gcd(a, b)}&lt;/p&gt;`;
        }

        function demo8() {
            const str = "Hello, World!";
            const reversedStr = str.split("").reverse().join("");
            return `&lt;p&gt;Реверс строки "${str}": ${reversedStr}&lt;/p&gt;`;
        }
    
    
        function demo9() {
            class Stack {
                constructor() {
                    this.items = [];
                }
                push(element) {
                    this.items.push(element);
                }
                pop() {
                    if (this.items.length === 0) throw new Error("Stack underflow");
                    return this.items.pop();
                }
                peek() {
                    return this.items[this.items.length - 1];
                }
                isEmpty() {
                    return this.items.length === 0;
                }
            }
        
            function precedence(operator) {
                switch (operator) {
                    case '+':
                    case '-':
                        return 1;
                    case '*':
                    case '/':
                        return 2;
                    case '^':
                        return 3;
                    default:
                        return 0;
                }
            }
        
            function infixToPostfix(infix) {
                const stack = new Stack();
                let postfix = '';
                for (let i = 0; i < infix.length; i++) {
                    const char = infix[i];
                    if (/[0-9]/.test(char)) {
                        let num = '';
                        while (i < infix.length && /[0-9.]/.test(infix[i])) {
                            num += infix[i++];
                        }
                        postfix += num + ' ';
                        i--;
                    } else if (char === '(') {
                        stack.push(char);
                    } else if (char === ')') {
                        while (!stack.isEmpty() && stack.peek() !== '(') {
                            postfix += stack.pop() + ' ';
                        }
                        stack.pop();
                    } else if (/[\+\-\*\/\^]/.test(char)) {
                        while (!stack.isEmpty() && precedence(stack.peek()) >= precedence(char)) {
                            postfix += stack.pop() + ' ';
                        }
                        stack.push(char);
                    }
                }
                while (!stack.isEmpty()) {
                    postfix += stack.pop() + ' ';
                }
                return postfix.trim();
            }
        
            function calculatePostfix(postfix) {
                const stack = new Stack();
                const tokens = postfix.split(' ');
                for (const token of tokens) {
                    if (/[0-9]/.test(token)) {
                        stack.push(parseFloat(token));
                    } else {
                        const operand2 = stack.pop();
                        const operand1 = stack.pop();
                        switch (token) {
                            case '+':
                                stack.push(operand1 + operand2);
                                break;
                            case '-':
                                stack.push(operand1 - operand2);
                                break;
                            case '*':
                                stack.push(operand1 * operand2);
                                break;
                            case '/':
                                if (operand2 === 0) throw new Error("Division by zero");
                                stack.push(operand1 / operand2);
                                break;
                            case '^':
                                stack.push(Math.pow(operand1, operand2));
                                break;
                            default:
                                throw new Error(`Unknown operator: ${token}`);
                        }
                    }
                }
                return stack.pop();
            }
        
            const infix = "3 + 4 * 2 / (1 - 5)^2"; // Пример инфиксного выражения
            const postfix = infixToPostfix(infix);
            const result = calculatePostfix(postfix);
        
            return `
                &lt;p&gt;Инфиксное выражение: ${infix}&lt;/p&gt;
                &lt;p&gt;Постфиксное выражение: ${postfix}&lt;/p&gt;
                &lt;p&gt;Результат вычисления: ${result}&lt;/p&gt;
            `;
        }


function generateSplits(str) {
    const splits = [];
    const n = str.length;

    function backtrack(start, current) {
        if (start === n) {
            splits.push([...current]);
            return;
        }
        for (let len = 1; len <= n - start; len++) {
            const part = str.substring(start, start + len);
            if (len > 1 && part[0] === '0') {
                continue;
            }
            current.push(parseInt(part, 10));
            backtrack(start + len, current);
            current.pop();
        }
    }

    backtrack(0, []);
    return splits;
}

function generateOperators(m) {
    const operatorsList = [];
    const count = m - 1;
    const maxOp = 6;
    const total = Math.pow(maxOp, count);

    for (let i = 0; i < total; i++) {
        const ops = [];
        let num = i;
        for (let j = 0; j < count; j++) {
            ops.push((num % maxOp) + 1);
            num = Math.floor(num / maxOp);
        }
        operatorsList.push(ops);
    }
    return operatorsList;
}

function generatePermutations(n) {
    const result = [];
    const nums = Array.from({ length: n }, (_, i) => i + 1);

    function permute(arr, start) {
        if (start === n) {
            result.push([...arr]);
            return;
        }
        for (let i = start; i < n; i++) {
            [arr[start], arr[i]] = [arr[i], arr[start]];
            permute(arr, start + 1);
            [arr[start], arr[i]] = [arr[i], arr[start]];
        }
    }

    permute(nums, 0);
    return result;
}

function computeWithOrder(numbers, operators, permutation) {
    let nums = [...numbers];
    let ops = [...operators];
    permutation = permutation.map(x => x - 1);

    for (let i = 0; i < permutation.length; i++) {
        const step = permutation[i];
        if (step < 0 || step >= ops.length) return NaN;

        const a = nums[step];
        const b = nums[step + 1];
        const op = ops[step];

        if ((op === 4 || op === 6) && b === 0) return NaN;

        let res;
        switch (op) {
            case 1: res = a + b; break;
            case 2: res = a - b; break;
            case 3: res = a * b; break;
            case 4: res = a / b; break;
            case 5: res = a * (-b); break;
            case 6: res = a / (-b); break;
            default: res = NaN;
        }

        nums.splice(step, 2, res);
        ops.splice(step, 1);

        for (let j = i + 1; j < permutation.length; j++) {
            if (permutation[j] > step) {
                permutation[j]--;
            }
        }
    }

    return nums[0];
}

function findCombinations(ticket) {
    const splits = generateSplits(ticket);
    const results = [];

    for (const numbers of splits) {
        const m = numbers.length;
        if (m < 2) continue;

        const operatorsList = generateOperators(m);
        const permutations = generatePermutations(m - 1);

        for (let sign = 0; sign < 2; sign++) {
            const signedNumbers = [...numbers];
            signedNumbers[0] = sign === 0 ? signedNumbers[0] : -signedNumbers[0];

            for (const operators of operatorsList) {
                for (const permutation of permutations) {
                    try {
                        const result = computeWithOrder(signedNumbers, operators, permutation);
                        if (Math.abs(result - 100) < 1e-6) {
                            results.push({
                                numbers: signedNumbers,
                                operators,
                                permutation
                            });
                        }
                    } catch (e) {
                        continue;
                    }
                }
            }
        }
    }

    return results;
}

// Пример использования

           function demo10() {

                
                // Генерация случайного числа от 0 до 1,000,000
                const randomNumber = Math.floor(Math.random() * 1000000);
                
                // Преобразование числа в строку

                const ticket =  randomNumber.toString();
                const combinations = findCombinations(ticket);
                
                //console.log('Найдено ${combinations.length} комбинаций:');
                combinations.forEach((comb, idx) => {
                    //console.log(`Комбинация ${idx + 1}:`);
                    let expression = comb.numbers[0].toString();
                    for (let i = 0; i < comb.operators.length; i++) {
                        const op = comb.operators[i];
                        const num = comb.numbers[i + 1];
                        const opStr = ['+', '-', '*', '/', '*-', '/ -'][op - 1];
                        expression += ` ${opStr} ${num}`;
                    }
                   // console.log(expression);
                });
              rez = string.concat( ticket , ' Найдено ${combinations.length} комбинаций: ' , expression);
              return rez;
          }




        
          // ... и так далее до 1000 функций
          
          // Пример функции 1000
          function demo1000() {
              return "Это демонстрация функции 1000";
          }
        function displayDemos() {
          const demosContainer = document.getElementById('demos');
      
          for (let i = 1; i <= 1000; i++) {
              const demoFunction = window[`demo${i}`];
              if (demoFunction && typeof demoFunction === 'function') {
                  const demoResult = demoFunction();
      
                  const demoElement = document.createElement('div');
                  demoElement.className = 'demo';
                  demoElement.innerHTML = `<h3>Функция ${i}</h3><p>${demoResult}</p>`;
      
                  demosContainer.appendChild(demoElement);
              }
          }
      }
      
      // Вызов функции для отображения всех демонстраций
      displayDemos();
    </script>
</body>
</html>
